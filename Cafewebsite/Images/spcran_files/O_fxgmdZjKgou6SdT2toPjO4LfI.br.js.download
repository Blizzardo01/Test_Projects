var __spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u};define("clientinst",["require","exports"],function(n,t){function y(n,t,i,r){w(n,t,i,n,r,[].slice.apply(arguments).slice(4))}function p(n,t,i,r){w(n,t,i,"ClientInst",r,[].slice.apply(arguments).slice(4))}function it(n,t,i,r,u,f,e){var o=Object.keys(e).reduce(function(n,t){return __spreadArrays(n,[t,e[t]])},[]);w(n,t,i,"ClientInst",f,__spreadArrays(["AppNS",r,"K",u],o))}function w(n,t,i,f,h,c){l||(rt("Init","CI","Base","ClientInst",!1),typeof r!="undefined"&&r.setTimeout&&(e=r.setTimeout(u,k)),l=1,typeof o!="undefined"&&o.bind&&o.bind(window,"beforeunload",u,!1),typeof s!="undefined"&&s.bind&&s.bind("unload",function(){st()},!1));rt(n,t,i,f,h,c)}function rt(n,t,r,e,o,s){var w,c="",y=_G.IG,p,l,a,v;if(s)for(p=0;p<s.length;p+=2){if(l=s[p],a=s[p+1],l=="ImpressionGuid"){y=a;continue}(typeof l!="string"||l.indexOf('"')<0)&&(l='"'+l+'"');typeof a!="string"||a.match(ft)||(a='"'+a.replace(ut,'\\"')+'"');c+=l+":"+a+","}c+='"T":"CI.'+n+'",'+(typeof t=="number"?'"K":'+t:'"FID":"'+t+'"')+',"Name":"'+r+'","TS":'+(new Date).getTime();c=f("{"+c+"}");v=i[y]&&i[y][e]||"";ot[h]+v[h]+c[h]>=et&&(u(),v="");i.hasOwnProperty(y)?i[y][e]=v+f(v?",":"")+c:i[y]=(w={},w[e]=v+f(v?",":"")+c,w);o&&u()}function b(n,t,i,r){var u=n[t];n[t]=function(){var n=arguments,e,t,f;if(r&&i[c](this,n),e=u[c](this,n),!r){for(t=[],f=0;f<n.length;f++)t.push(n[f]);t.push(e);i[c](this,t)}return e}}function st(){l=0;u()}function u(){var n,s,t,o;e&&clearTimeout(e);for(n in i)if(i.hasOwnProperty(n)){s=n!=_G.IG?_G.lsUrl.replace(_G.IG,n):_G.lsUrl;for(t in i[n])i[n].hasOwnProperty(t)&&(o=d+s+"&TYPE=Event."+t+"&DATA="+f("[")+i[n][t]+f("]"),ct(o)||(tt().src=o));delete i[n]}typeof r!="undefined"&&r.setTimeout&&(e=r.setTimeout(u,k))}function ht(){return _G!==undefined&&_G.EF!==undefined&&_G.EF.logsb!==undefined&&_G.EF.logsb===1}function ct(n){return ht()?lt(n,""):!1}function lt(n,t){var i="sendBeacon",r=!1;if(navigator&&navigator[i])try{navigator[i](n,t);r=!0}catch(u){}return r}var v,nt,i,tt;t.__esModule=!0;t.Wrap=t.LogInstrumented=t.Log=t.LogCustomEvent=void 0;var r=n("env"),o=n("event.native"),s=n("event.custom"),f=encodeURIComponent,h="length",c="apply",ut=/"/g,ft=/^\s*[{\["].*["}\]]\s*$/g,k=2e3,et=2e3,l=0,e,d="",ot=_G.lsUrl+"&TYPE=Event.ClientInst&DATA=",a=location.hostname,g=a.match(/([^.]+\.[^.]*)$/);g&&(v=location.protocol,nt=v=="https:"?a.substring(0,a.indexOf(".")):"a4",d=v+"//"+nt+"."+g[0]);i={};tt=function(){return new Image};t.LogCustomEvent=y;t.Log=p;t.LogInstrumented=it;t.Wrap=b;window.Log={LogCustomEvent:y,Log:p,Wrap:b};window.Shared2=window.Shared2||{};window.Shared2.Log={LogCustomEvent:y,Log:p,Wrap:b,LogInstrumented:it}})